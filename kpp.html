<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Karta udzielanej KPP</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f4f4f4;
      padding: 20px;
    }
    form {
      background: white;
      padding: 2em;
      max-width: 600px;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }
    h2 {
      text-align: center;
    }
    input, select, textarea {
      width: 100%;
      padding: 0.7em;
      margin-bottom: 1em;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    .checkbox-group {
      margin-bottom: 1em;
    }
    .checkbox-group label {
      display: block;
      margin-bottom: 5px;
    }
    button {
      background-color: #007bff;
      color: white;
      padding: 1em;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <h1>System Wspomagania Decyzji PSP ≈Åa≈Ñcut</h1>
    <img src="https://upload.wikimedia.org/wikipedia/commons/4/46/Logo-psp.png" style="height: 100px; width: 90px;">
  </header>
  <a href="index.html" style="
  display: inline-block;
  margin-bottom: 20px;
  text-decoration: none;
  color: #b30000;
  font-weight: bold;
  font-size: 16px;
  background-color: white;
  padding: 8px 14px;
  border-radius: 6px;
  box-shadow: 0 0 4px rgba(0,0,0,0.1);
">
  ‚Üê Powr√≥t do strony g≈Ç√≥wnej
</a>
<form id="kppForm">
  <h2>Karta udzielanej kwalifikowanej pierwszej pomocy</h2>
  <input type="text" id="rescuer" placeholder="Imiƒô i nazwisko ratownika" required />
  <input type="text" id="patient" placeholder="Imiƒô i nazwisko poszkodowanego" required />
  <select id="gender" required>
    <option value="">P≈Çeƒá</option>
    <option value="Mƒô≈ºczyzna">Mƒô≈ºczyzna</option>
    <option value="Kobieta">Kobieta</option>
  </select>
  <input type="number" id="age" placeholder="Wiek" required />
  <input type="text" id="team" placeholder="Kryptonim zespo≈Çu ratowniczego" required />
  <input type="time" id="arrival" required placeholder="Godzina przybycia" />
  <input type="time" id="help" required placeholder="Godzina udzielenia pomocy" />
  <input type="time" id="handover" required placeholder="Godzina przekazania" />
  <input type="text" id="handoverTo" placeholder="Przekazano (np. ZRM)" required />

  <div class="checkbox-group">
    <label>Obra≈ºenia/Objawy:</label>
    <label><input type="checkbox" name="symptoms" value="Przytomny / Pod wp≈Çywem zdarzenia"> Przytomny / Pod wp≈Çywem zdarzenia</label>
    <label><input type="checkbox" name="symptoms" value="Nieprzytomny"> Nieprzytomny</label>
    <label><input type="checkbox" name="symptoms" value="Bezdech"> Bezdech</label>
    <label><input type="checkbox" name="symptoms" value="Zatrzymanie krƒÖ≈ºenia"> Zatrzymanie krƒÖ≈ºenia</label>
    <label><input type="checkbox" name="symptoms" value="Podtopienie"> Podtopienie</label>
    <label><input type="checkbox" name="symptoms" value="Obra≈ºenia g≈Çowy"> Obra≈ºenia g≈Çowy</label>
    <label><input type="checkbox" name="symptoms" value="Obra≈ºenia krƒôgos≈Çupa"> Obra≈ºenia krƒôgos≈Çupa / podejrzenie obra≈ºe≈Ñ</label>
    <label><input type="checkbox" name="symptoms" value="Amputacja"> Amputacja</label>
    <label><input type="checkbox" name="symptoms" value="Zmia≈ºd≈ºenie"> Zmia≈ºd≈ºenie</label>
    <label><input type="checkbox" name="symptoms" value="Rany, krwotoki"> Rany, krwotoki</label>
    <label><input type="checkbox" name="symptoms" value="Z≈Çamania"> Z≈Çamanie i podejrzenia z≈Çama≈Ñ</label>
    <label><input type="checkbox" name="symptoms" value="Zwichniƒôcia"> Zwichniƒôcia</label>
    <label><input type="checkbox" name="symptoms" value="Oparzenia"> Oparzenia</label>
    <label><input type="checkbox" name="symptoms" value="Zatrucie wziewne"> Zatrucie wziewne</label>
    <label><input type="checkbox" name="symptoms" value="Duszno≈õƒá"> Duszno≈õƒá</label>
    <label><input type="checkbox" name="symptoms" value="Wych≈Çodzenie"> Wych≈Çodzenie</label>
    <label><input type="checkbox" name="symptoms" value="WstrzƒÖs"> WstrzƒÖs / zagro≈ºenie wstrzƒÖsem</label>
    <label><input type="checkbox" name="symptoms" value="Nudno≈õci"> Nudno≈õci / wymioty</label>
    <label><input type="checkbox" name="symptoms" value="Ska≈ºenie"> Ska≈ºenie</label>
  </div>

  <div class="checkbox-group">
    <label>Postƒôpowanie:</label>
    <label><input type="checkbox" name="actions" value="Wspomaganie psychiczne"> Wspomaganie psychiczne</label>
    <label><input type="checkbox" name="actions" value="Pozycja: bezpieczna / zastana / na wznak"> Pozycja: bezpieczna / zastana / na wznak</label>
    <label><input type="checkbox" name="actions" value="Udro≈ºnienie: bezprzyrzƒÖdowe / ssanie / rurka ustno-gard≈Çowa / rurka krtaniowa"> Udro≈ºnienie: bezprzyrzƒÖdowe / ssanie / rurka ustno-gard≈Çowa / rurka krtaniowa</label>
    <label><input type="checkbox" name="actions" value="Oddech sztuczny: powietrze"> Oddech sztuczny: powietrze</label>
    <label><input type="checkbox" name="actions" value="Uciskanie klatki piersiowej / defibrylacja"> Uciskanie klatki piersiowej / efekt / defibrylacja / efekt</label>
    <label><input type="checkbox" name="actions" value="Stabilizacja / opatrunek os≈ÇaniajƒÖcy"> Stabilizacja / opatrunek os≈ÇaniajƒÖcy</label>
    <label><input type="checkbox" name="actions" value="Stabilizacja g≈Çowy / nosze deska"> Stabilizacja g≈Çowy / nosze deska</label>
    <label><input type="checkbox" name="actions" value="Opatrunek kikuta / zabezpieczenie amputowanych tkanek"> Opatrunek kikuta / zabezpieczenie amputowanych tkanek</label>
    <label><input type="checkbox" name="actions" value="Unieruchomienie / termoizolacja"> Unieruchomienie / termoizolacja</label>
    <label><input type="checkbox" name="actions" value="Opatrunek: os≈ÇaniajƒÖcy / uciskowy"> Opatrunek: os≈ÇaniajƒÖcy / uciskowy</label>
  </div>

  <select id="transport">
    <option value="">Czy przekazano ZRM do transportu?</option>
    <option value="Tak">Tak</option>
    <option value="Nie">Nie</option>
  </select>
  <input type="text" id="signature" placeholder="Podpis ratownika" required />

  <button type="submit">üì§ Wy≈õlij kartƒô KPP</button>
</form>

<script>
  document.getElementById("kppForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const getChecked = (name) =>
      Array.from(document.querySelectorAll(`input[name='${name}']:checked`))
        .map(cb => cb.value)
        .join(", ");

    const payload = {
      embeds: [
        {
          title: "‚öïÔ∏è Otrzymano nowƒÖ kartƒô udzielanej KPP",
          color: 3447003, // niebieski
          thumbnail: { url: "https://upload.wikimedia.org/wikipedia/commons/4/46/Logo-psp.png" },
          fields: [
            { name: "```Imiƒô i nazwisko ratownika```", value: document.getElementById("rescuer").value },
            { name: "```Imiƒô i nazwisko poszkodowanego```", value: document.getElementById("patient").value },
            { name: "```P≈Çeƒá```", value: document.getElementById("gender").value },
            { name: "```Wiek```", value: document.getElementById("age").value },
            { name: "```Kryptonim zespo≈Çu```", value: document.getElementById("team").value },
            { name: "```Godziny```", value: `Przybycia: ${document.getElementById("arrival").value}, Pomocy: ${document.getElementById("help").value}, Przekazania: ${document.getElementById("handover").value}` },
            { name: "```Przekazano```", value: document.getElementById("handoverTo").value },
            { name: "```Obra≈ºenia / Objawy```", value: getChecked("symptoms") || "Brak danych" },
            { name: "```Postƒôpowanie```", value: getChecked("actions") || "Brak danych" },
            { name: "```ZRM do transportu?```", value: document.getElementById("transport").value },
            { name: "```Podpis ratownika```", value: document.getElementById("signature").value }
          ],
          footer: { text: "Formularz SWD PSP ≈Åa≈Ñcut" }
        }
      ]
    };

    await fetch("https://discord.com/api/webhooks/1361014475255189730/qizJ_NC0hnbtyL-fl2yD86pge4o02gpda_usNq3Rpt36vnos9gkusATGYWk16y53NrVk", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    alert("Karta zosta≈Ça przes≈Çana.");
    document.getElementById("kppForm").reset();
  });
</script>

</body>
</html>
