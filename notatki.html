<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>SWD - Ewidencja Wyjazd√≥w</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      padding: 40px;
    }

    .container {
      background: #fff;
      border-radius: 12px;
      padding: 30px;
      max-width: 800px;
      margin: auto;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      color: #b30000;
    }

    label {
      margin-top: 15px;
      display: block;
      font-weight: bold;
      color: #333;
    }

    input, textarea, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    button {
      margin-top: 20px;
      padding: 12px 20px;
      font-size: 16px;
      background-color: #b30000;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    button:hover {
      background-color: #8c0000;
    }

    hr {
      margin: 40px 0;
      border: none;
      height: 2px;
      background-color: #ccc;
    }
    header {
      background-color: #b30000;
      color: white;
      padding: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
      
    <header>
        <h1>System Wspomagania Decyzji PSP ≈Åa≈Ñcut</h1>
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/46/Logo-psp.png" style="height: 100px; width: 90px;">
      </header>


<div class="container">
    <a href="index.html" style="
  display: inline-block;
  margin-bottom: 20px;
  text-decoration: none;
  color: #b30000;
  font-weight: bold;
  font-size: 16px;
  background-color: white;
  padding: 8px 14px;
  border-radius: 6px;
  box-shadow: 0 0 4px rgba(0,0,0,0.1);
">
  ‚Üê Powr√≥t do strony g≈Ç√≥wnej
</a>

<div class="container">
  <h2>Meldunek Ewid-ST</h2>

  <label for="meldunekZdarzenie">Zdarzenie:</label>
  <input type="text" id="meldunekZdarzenie" placeholder="Np. Po≈ºar stodo≈Çy w Kornowacu">

  <label for="meldunekTresc">Tre≈õƒá meldunku:</label>
  <textarea id="meldunekTresc" rows="4" placeholder="Opisz sytuacjƒô..."></textarea>

  <button onclick="wyslijMeldunekEwid()">Wy≈õlij Meldunek Ewid-ST</button>
</div>

<div class="container">
  <h2>Zarejestruj czas w karcie manipulacyjnej</h2>

  <label for="zastepy">Zastƒôp:</label>
  <select name="zastepy" id="zastepy">
    <option value="RF 491-21">RF 491-21</option>
    <option value="RF 491-22">RF 491-22</option>
    <option value="RF 491-25">RF 491-25</option>
    <option value="RF 491-50">RF 491-50</option>
    <option value="RF 491-53">RF 491-53</option>
    <option value="RF 491-90">RF 491-90</option>
    <option value="RF 490-90">RF 490-90</option>
    <option value="RF 490-91">RF 490-91</option>
    <option value="RF 490-92">RF 490-92</option>
    <option value="other">WPROWAD≈π W≈ÅASNY</option>
  </select>

  <label for="customZastep">Wprowad≈∫ w≈Çasny zastƒôp:</label>
  <input type="text" id="customZastep" placeholder="Wprowad≈∫ zastƒôp">

  <label for="typMeldunku">Typ rejestrowanego zdarzenia:</label>
  <select id="typMeldunku" required>
    <option value="">-- Wybierz typ zdarzenia --</option>
    <option value="Po≈ºar ‚Äì prowadzony (PP) - WYJAZD ZASTƒòPU">Po≈ºar ‚Äì prowadzony (PP) - WYJAZD ZASTƒòPU</option>
    <option value="Po≈ºar ‚Äì opanowany (OP) -  CZAS LOKALIZACJI">Po≈ºar ‚Äì opanowany (OP) -  CZAS LOKALIZACJI</option>
    <option value="Po≈ºar ‚Äì zako≈Ñczony (KP) - ZAKO≈ÉCZENIE DZIA≈ÅA≈É">Po≈ºar ‚Äì zako≈Ñczony (KP) - ZAKO≈ÉCZENIE DZIA≈ÅA≈É</option>
    <option value="MZ ‚Äì prowadzone (PM) - WYJAZD ZASTƒòPU">MZ ‚Äì prowadzone (PM) - WYJAZD ZASTƒòPU</option>
    <option value="MZ ‚Äì opanowane (OM) -  CZAS LOKALIZACJI">MZ ‚Äì opanowane (OM) -  CZAS LOKALIZACJI</option>
    <option value="MZ ‚Äì zako≈Ñczone (KM) - ZAKO≈ÉCZENIE DZIA≈ÅA≈É">MZ ‚Äì zako≈Ñczone (KM) - ZAKO≈ÉCZENIE DZIA≈ÅA≈É</option>
    <option value="CW ‚Äì ƒáwiczenia (CW) - WYJAZD ZASTƒòPU">CW ‚Äì ƒáwiczenia (CW) - WYJAZD ZASTƒòPU</option>
    <option value="CZ ‚Äì ƒáwiczenia zako≈Ñczone (CZ) - ZAKO≈ÉCZENIE DZIA≈ÅA≈É">CZ ‚Äì ƒáwiczenia zako≈Ñczone (CZ) - ZAKO≈ÉCZENIE DZIA≈ÅA≈É</option>
    <option value="NA MIEJSCU">NA MIEJSCU</option>
    <option value="W BAZIE">W BAZIE</option>
  </select>
  <label for="godzina">Godzina:</label>
  <input type="time" id="godzina">

  <label for="dotyczy">Dotyczy interwencji:</label>
  <textarea id="dotyczy" rows="3" placeholder="Opis identyfikacyjny interwencji..."></textarea>

  <button onclick="wyslijGodzine()">Prze≈õlij godzinƒô</button>
</div>

    <hr>

    <h2>Rejestr wyjazd√≥w</h2>

    <label>Rodzaj zdarzenia:</label>
    <select id="typWyjazdu">
      <option value="WG - wyjazd gospodarczy (SI≈ö JRG PSP)">WG ‚Äì Wyjazd gospodarczy dot. Si≈ö JRG PSP</option>
      <option value="WG - wyjazd gospodarczy (OSP, KSRG)">WG ‚Äì Wyjazd gospodarczy dot. Si≈ö OSP KSRG</option>
      <option value="WG - wyjazd gospodarczy TANKOWANIE">WG ‚Äì Wyjazd gospodarczy TANKOWANIE</option>
      <option value="WG - wyjazd gospodarczy administracyjny (Operacyjne)">WG ‚Äì Wyjazd gospodarczy administracyjny (dotyczny wy≈ÇƒÖcznie pojazd√≥w operacyjnych)</option>
      <option value="KWG ‚Äì Koniec wyjazdu gospodarczego">KWG ‚Äì Koniec wyjazdu gospodarczego</option>
      <option value="PZR - Przekazanie na zabezpieczenie operacyjne rejonu">PZR ‚Äì Przekazanie na zabezpieczenie operacyjne rejonu</option>
      <option value="KZR - Koniec zabezpieczenia rejonu">KZR - Koniec zabezpieczenia rejonu</option>
      <option value="MZ/L ‚Äì Zabezpieczenie imprezy masowej">MZ/L ‚Äì Zabezpieczenie imprezy masowej</option>
      <option value="MZ/L ‚Äì Zabezpieczenie prac po≈ºarowo niebezpiecznych">MZ/L ‚Äì Zabezpieczenie prac po≈ºarowo niebezpiecznych</option>
      <option value="GRUPA OPERACYJNA - Wyjazd grupy operacyjnej">GRUPA OPERACYJNA - Wyjazd grupy operacyjnej (dotyczny wy≈ÇƒÖcznie pojazd√≥w operacyjnych PSP)</option>
    </select>

    <label>Zastƒôp:</label>
    <select name="zastepy" id="zastepRejestr">
      <option value="RF 491-21">RF 491-21</option>
      <option value="RF 491-22">RF 491-22</option>
      <option value="RF 491-25">RF 491-25</option>
      <option value="RF 491-50">RF 491-50</option>
      <option value="RF 491-53">RF 491-53</option>
      <option value="RF 491-90">RF 491-90</option>
      <option value="RF 490-90">RF 490-90</option>
      <option value="RF 490-91">RF 490-91</option>
      <option value="RF 490-92">RF 490-92</option>
      <option value="other">WPROWAD≈π W≈ÅASNY</option>
    </select>
    <label for="customZastepRejestr">Wprowad≈∫ w≈Çasny zastƒôp:</label>
    <input type="text" id="customZastepRejestr" placeholder="Wprowad≈∫ zastƒôp">

    <label>Informacje dodatkowe - opis zdarzenia</label>
    <textarea id="opisRejestr" rows="3" placeholder="Opis zdarzenia..."></textarea>

    <button onclick="wyslijRejestr()">Zapisz meldunek w rejestrze</button>
  </div>

  <script>
async function wyslijMeldunekEwid() {
  const zdarzenie = document.getElementById("meldunekZdarzenie").value.trim();
  const tresc = document.getElementById("meldunekTresc").value.trim();
  const czas = new Date().toLocaleTimeString("pl-PL", { hour: '2-digit', minute: '2-digit' });

  if (!zdarzenie || !tresc) {
    alert("Uzupe≈Çnij oba pola!");
    return;
  }

  const webhookURL = "https://discord.com/api/webhooks/1361014475255189730/qizJ_NC0hnbtyL-fl2yD86pge4o02gpda_usNq3Rpt36vnos9gkusATGYWk16y53NrVk";

  const payload = {
    content: "üì¢ **Nowy meldunek EWID-ST przes≈Çany przez dy≈ºurnego**",
    embeds: [
      {
        title: `üìù Meldunek Ewid-ST`,
        color: 65280, // zielony
        thumbnail: {
          url: "https://images-ext-1.discordapp.net/external/llcpafYeO4D4ksPaR4OfOpoWLGr8ukkPJgz3cJbJeco/https/sbihp.pl/wp-content/uploads/2022/04/Panstwowa-Straz-Pozarna.png?format=webp&quality=lossless"
        },
        fields: [
          { name: "Meldunek dotyczƒÖcy zdarzenia:", value: zdarzenie },
          { name: "Tre≈õƒá meldunku", value: tresc },
          { name: "Czas zapisu meldunku", value: czas }
        ],
        footer: {
          text: "System SWD-ST ‚Ä¢ Automatyczny meldunek"
        },
        timestamp: new Date().toISOString()
      }
    ]
  };

  try {
    await fetch(webhookURL, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(payload)
    });

    alert("Meldunek wys≈Çany!");
    document.getElementById("meldunekZdarzenie").value = "";
    document.getElementById("meldunekTresc").value = "";

  } catch (error) {
    alert("B≈ÇƒÖd przy wysy≈Çaniu meldunku!");
    console.error(error);
  }
}


    const webhookURL = "https://discord.com/api/webhooks/1361026081334755428/jN0OJtmzo0j0tCnJV9BbJ4BDDq7NqRuhiclCmKHqFXuvFcpVNUsXwv_2KXcTX_mZc71U";

function wyslijGodzine() {
  const zastep = document.getElementById("zastepy").value === "other"
    ? document.getElementById("customZastep").value
    : document.getElementById("zastepy").value;
  const godzina = document.getElementById("godzina").value;
  const dotyczy = document.getElementById("dotyczy").value;
  const typmeldunku = document.getElementById("typMeldunku").value;

  const data = {
    embeds: [{
      title: "üìü Karta manipulacyjna: Zarejestrowano nowy meldunek ",
      color: 3447003,
      fields: [
        { name: "Zastƒôp", value: zastep || "-", inline: true },
        { name: "Czas zameldowania", value: godzina || "-", inline: false },
        { name: "Typ zdarzenia", value: typmeldunku || "-", inline: false },
        { name: "Dotyczy interwencji", value: dotyczy || "-", inline: false }
      ],
      timestamp: new Date().toISOString()
    }]
  };

  fetch(webhookURL, {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(data)
  }).then(() => alert("Godzina interwencji zosta≈Ça przes≈Çana!"));
}

function wyslijRejestr() {
  const typ = document.getElementById("typWyjazdu").value;
  const zastep = document.getElementById("zastepRejestr").value === "other" ? document.getElementById("customZastepRejestr").value : document.getElementById("zastepRejestr").value;
  const opis = document.getElementById("opisRejestr").value;

  const data = {
    embeds: [{
      title: "üìò Wprowadzono nowy wpis w rejestrze wyjazd√≥w",
      color: 3447003,
      fields: [
        { name: "Typ rejestrowanego zdarzenia", value: typ, inline: false },
        { name: "Zastƒôp", value: zastep || "-", inline: false },
        { name: "Informacje dodatkowe", value: opis || "-", inline: false }
      ],
      timestamp: new Date().toISOString()
    }]
  };

  fetch(webhookURL, {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(data)
  }).then(() => alert("Wyjazd zapisany!"));
}
  </script>
</body>
</html>
